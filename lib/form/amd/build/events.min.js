define ("core_form/events",["exports","core/str"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.triggerUploadCompleted=a.triggerUploadStarted=a.types=void 0;var c;(0,b.get_string)("changesmadereallygoaway","moodle").then(function(a){c=a;return a}).catch();var d=function(a){if(a){a.returnValue=c}},e={},f=function(){return Object.values(e).every(function(a){return 0==a})},g={uploadStarted:"core_form/uploadStarted",uploadCompleted:"core_form/uploadCompleted"};a.types=g;a.triggerUploadStarted=function triggerUploadStarted(a){e[a]=e[a]?e[a]+1:1;window.addEventListener("beforeunload",d);var b=new CustomEvent(g.uploadStarted,{bubbles:!0,cancellable:!1}),c=document.getElementById(a);c.dispatchEvent(b);return b};a.triggerUploadCompleted=function triggerUploadCompleted(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1;if(e[a]&&0<e[a]){e[a]=b?0:e[a]-1}if(f()){window.removeEventListener("beforeunload",d);var c=new CustomEvent(g.uploadCompleted,{bubbles:!0,cancellable:!1}),h=document.getElementById(a);h.dispatchEvent(c);return c}else{return null}}});
//# sourceMappingURL=events.min.js.map
